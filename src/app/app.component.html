<section class="chat" style="background:#b3d670" (click)="popUpOpened()">

  <img (click)="isOpen = !isOpen" src="../assets/img/nikhil.jpeg" align="chat" width="60px">
</section>
<div class="chat-screen" [@openClose]="isOpen ? 'open' : 'closed'">

  <div class="_f_0">
    <div class="_1qd1" (click)="isOpen = !isOpen">
      <div class="_2t-5 _4bqf" tabindex="0" role="button"><svg width="10px" height="10px" viewBox="0 0 14 14">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(-419.000000, -413.000000)">
              <g transform="translate(164.000000, 396.000000)">
                <g>
                  <g transform="translate(250.000000, 12.000000)">
                    <g>
                      <g>
                        <rect opacity="0.200000003" x="0" y="0" width="24" height="24"></rect>
                        <g transform="translate(4.000000, 4.000000)" fill="#000000">
                          <rect
                            transform="translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) "
                            x="7" y="-1" width="2" height="18" rx="1"></rect>
                          <rect
                            transform="translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) "
                            x="7" y="-1" width="2" height="18" rx="1"></rect>
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </svg></div>
    </div>
    <div class="_hov">
      <div class="_how _4ik4 _4ik5" style="-webkit-line-clamp: 1;">Web bot demo</div>
    </div>
    <div class="_1qd3">
      <div class="_4bqf _17l7" tabindex="0" role="button"><svg width="24px" height="24px" viewBox="0 0 24 24">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(-413.000000, -56.000000)">
              <g transform="translate(90.000000, 44.000000)">
                <g>
                  <g>
                    <g transform="translate(324.000000, 13.000000)">
                      <circle fill="#FFFFFF" stroke="#b53f31" cx="11" cy="11" r="11"></circle>
                      <path
                        d="M11,9 L12,9 L12,17 L13,17 L13,17.5 L9,17.5 L9,17 L10,17 L10,9.5 L9,9.5 L9,9 L11,9 Z M11,4.5 C11.8284271,4.5 12.5,5.17157288 12.5,6 C12.5,6.82842712 11.8284271,7.5 11,7.5 C10.1715729,7.5 9.5,6.82842712 9.5,6 C9.5,5.17157288 10.1715729,4.5 11,4.5 Z"
                        fill="#b53f31"></path>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </svg></div>
    </div>
  </div>

  <div class="chat-content" style="overflow-Y: scroll; height: 380;" #scrollMe>
    <div class="chat-detail">
      <div class="message-chat-box" *ngFor="let message of messages$ | async">
        <div class="message-box sender"
          [ngClass]="{'sender' : message.by === 'user', 'reciver' : message.by === 'bot'}">
          <p class="message-content" [innerHTML]="message.text" *ngIf="message.text"></p>
        </div>

        <div class="chip chip-pointer" *ngFor="let chip of message.chips" (click)="chipsClicked(chip.payload)">
          {{chip.title}}
        </div>

        <div *ngFor="let image of message.images">
          <img src="{{image}}" alt="image" height="200px">
        </div>

        <div *ngFor="let audio of message.audios">
          <audio controls>
            <source src="{{audio}}" type="audio/mpeg">
          </audio>
        </div>

        <div *ngFor="let video of message.videos">
          <video width="250" controls>
            <source src="{{video}}" type="video/mp4">
            Your browser does not support HTML5 video.
          </video>
        </div>

        <div class="row" *ngFor="let card of message.basic_cards">
          <div class="col s8 m7 custome-card">
            <div class="card">
              <div class="card-image">
                <img src="{{card.imageUrl}}">
                <span class="card-title">{{card.title}}</span>
              </div>
              <div class="card-content">
                <p>{{card.content}}</p>
              </div>
              <div class="card-action" *ngFor="let button of card.buttons">
                <a href="{{button.payload}}" target="_blank">{{button.title}}</a>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

  <div class=" _336a">
    <div class="_1i69">
      <div class="_2l9u" id="fileDiv">
      </div>
    </div>
    <div class="_4zbw">
      <div class="_4fwe"><label class="_58ak _3ct8">
          <input class="_58al" id="_58al" type="text" placeholder="Type a message..."
            (keyup.enter)="sendMessage(message)" [(ngModel)]="message">
        </label>
      </div>
      <div class="_kmd">
        <div class="_64mk _2ez5 _6a">
          <input accept="application/msword, application/pdf, text/csv, text/plain, image/*, video/*" class="_2ez6"
            name="attachment[]" title="Add Files" type="file" id="fileUp" multiple>
        </div>
        <div class="_4bqf _64mk _64ml" tabindex="0" role="button" (click)="sendMessage(message)"><svg width="22px"
            height="22px" viewBox="0 0 22 22">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g transform="translate(-5.000000, -5.000000)" fill="#b3d670">
                <g>
                  <g transform="translate(5.000000, 5.000000)">
                    <path
                      d="M2.0300068,0.145970044 L20.9662955,9.37015518 C22.3445682,10.0420071 22.3445682,11.9582654 20.9662955,12.6296618 L2.0300068,21.853847 C1.09728834,22.3084288 0,21.6475087 0,20.6317597 L0.806953417,13.8945654 C0.882225434,13.2659853 1.39089595,12.7699536 2.03608467,12.6957083 L12.0229514,11.6795038 C12.8612292,11.5943266 12.8612292,10.4054904 12.0229514,10.3203132 L2.03608467,9.30410872 C1.39089595,9.23031889 0.882225434,8.7342872 0.806953417,8.10525162 L0,1.36805729 C0,0.352308292 1.09728834,-0.3081563 2.0300068,0.145970044">
                    </path>
                  </g>
                </g>
              </g>
            </g>
          </svg></div>
      </div>
    </div>
  </div>
</div>